<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Калькулятор Draw Time Start</title>

  <style>
    
  </style>

  
</head>
<body>
  <h2>Калькулятор Draw Time Start</h2>

  <label>День запуска (например: Tuesday):</label><br>
  <input type="text" id="startDay" placeholder="Tuesday"><br><br>

  <label>Время запуска (HH:MM):</label><br>
  <input type="text" id="startTime" placeholder="14:00"><br><br>

  <label>День draw (например: Saturday):</label><br>
  <input type="text" id="drawDay" placeholder="Saturday"><br><br>

  <label>Время draw (HH:MM):</label><br>
  <input type="text" id="drawTime" placeholder="21:00"><br><br>

  <button onclick="calculate()" style="padding: 6px 12px; font-size: 16px;">Рассчитать</button>

  <h3 id="result" style="margin-top: 20px;"></h3>

  <script>
    function calculate() {
      const weekdays = ['monday','tuesday','wednesday','thursday','friday','saturday','sunday'];
      let sd = document.getElementById('startDay').value.trim().toLowerCase();
      let st = document.getElementById('startTime').value.trim();
      let dd = document.getElementById('drawDay').value.trim().toLowerCase();
      let dt = document.getElementById('drawTime').value.trim();

      let si = weekdays.indexOf(sd), di = weekdays.indexOf(dd);
      if (si < 0 || di < 0) {
        document.getElementById('result').innerText = "Проверь, правильно ли написаны дни недели";
        return;
      }

      let base = new Date('2024-01-01T00:00:00'); // понедельник
      let start = new Date(base);
      start.setDate(base.getDate() + si);
      let [h1,m1] = st.split(':').map(Number);
      start.setHours(h1, m1);

      let draw = new Date(base);
      draw.setDate(base.getDate() + si + ((di - si + 7) % 7));
      let [h2,m2] = dt.split(':').map(Number);
      draw.setHours(h2, m2);

      if (draw <= start) draw.setDate(draw.getDate() + 7);

      let diff = draw - start;
      let mins = Math.floor(diff / 60000);
      let days = Math.floor(mins / 1440);
      let hrs = Math.floor((mins % 1440) / 60);
      let mns = mins % 60;

      document.getElementById('result').innerText = `${days} дней, ${hrs} часов, ${mns} минут`;
    }
  </script>
</body>
</html>
